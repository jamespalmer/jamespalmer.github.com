$(function(){"use strict";var e={ui:function(){var e=$(".icon"),t=$("#moon, #phase");$(window).bind("resize",function(){t.hasClass("transition")||t.addClass("transition")});e.tooltip({placement:"bottom"})}(),moon:function(){var e=$("#moon"),t=$("#phase"),n=$("#moon, #phase"),r=new Date,i=r.getFullYear(),s=r.getMonth(),o=r.getDate(),u=function(e,t,n){var r=e%100;r%=19;r>9&&(r-=19);r=r*11%30+parseInt(t,10)+parseInt(n,10);t<3&&(r+=2);r-=e<2e3?4:8.3;r=Math.floor(r+.5)%30;r=r<0?r+30:r;return r/29.53058867},a=function(e){var t;e>=.97||e<=.04?t=["new-moon","New Moon"]:e<=.23?t=["waxing-crescent","Waxing Crescent"]:e<=.29?t=["first-quarter","First Quarter"]:e<=.48?t=["waxing-gibbous","Waxing Gibbous"]:e<=.54?t=["full-moon","Full Moon"]:e<=.72?t=["waning-gibbous","Waning Gibbous"]:e<=.77?t=["last-quarter","Last Quarter"]:e<=.96&&(t=["waning-crescent","Waning Crescent"]);return t},f=a(u(i,s,o));n.addClass(f[0]);e.tooltip({html:!0,placement:"bottom",title:"Current lunar phase: <strong>"+f[1]+"</strong>"});e.hasClass("new-moon")||e.animate({opacity:1},350);e.hover(function(){var e=$(this);e.hasClass("new-moon")&&!e.hasClass("active")&&e.filter(":not(:animated)").animate({opacity:1},300).addClass("active")},function(){var e=$(this);e.hasClass("new-moon")&&e.hasClass("active")&&e.filter(":not(:animated)").animate({opacity:.1},300).removeClass("active")})}()}});